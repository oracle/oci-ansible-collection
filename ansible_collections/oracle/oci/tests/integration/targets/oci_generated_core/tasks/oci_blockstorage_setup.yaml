- name: Create setup volume which can be used for other blockstorage tests
  oci_blockstorage_volume:
    availability_domain: "{{ test_availability_domain }}"
    compartment_id: "{{ test_compartment_ocid }}"
    display_name: "{{ setup_volume_display_name }}"
  register: result

- set_fact:
    setup_volume_id: "{{ result.volume.id }}"
    dependency_asset_id: "{{ result.volume.id }}"

- name: List backup policies in the compartment
  oci_blockstorage_volume_backup_policy_facts:
  register: result

- set_fact:
    dependency_policy_id: "{{ result.volume_backup_policies[0].id }}"
