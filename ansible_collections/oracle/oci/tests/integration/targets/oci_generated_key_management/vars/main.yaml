# Get current date-time and add 8 days, Needed format: 2018-04-03T21:10:29.600Z
current_date_time: "{{ '%Y-%m-%dT%H:%M:%S.500Z' | strftime(( ansible_date_time.epoch | int ) + ( 86400 * 8 )) }}"

test_encrypted_data_key_shape:
  algorithm: "{{ 'AES' }}"
  length: "{{ 16 }}"

ansible_aad:
  ansible_aad_1: '1'

ansible_context:
  ansible_context_1: '1'

# Vault
# The tests below pass but we don't want to create 2 vaults to avoid limits
# Just create the vault with optional and required param
skip_vault_create_required_original_test: True
skip_vault_create_required_idempotency_test: True
skip_vault_update_using_name_optional_required_test: True
skip_vault_update_using_name_optional_required_idempotence_test: True
test_vault_create_required_vault_type: "DEFAULT"
test_vault_create_optional_required_vault_type: "DEFAULT"

# All key modules below don't have idempotency and check_mode doesn't work
# They don't have get calls or list
# generated_key
skip_generated_key_create_dependency_key_test: True
skip_generated_key_create_required_idempotency_test: True
skip_generated_key_create_optional_required_idempotence_test: True
test_generated_key_create_optional_required_associated_data: "{{ ansible_aad }}"
test_generated_key_create_optional_required_logging_context: "{{ ansible_context }}"

# key_version
skip_key_version_create_check_mode_test: True
skip_key_version_create_dependency_key_test: True
skip_key_version_create_required_idempotency_test: True
skip_key_version_create_optional_required_idempotence_test: True

# encrypted_data
skip_encrypted_data_create_dependency_key_test: True
skip_encrypted_data_create_required_idempotency_test: True
skip_encrypted_data_create_optional_required_idempotence_test: True
test_encrypted_data_create_optional_required_associated_data: "{{ ansible_aad }}"
test_encrypted_data_create_optional_required_logging_context: "{{ ansible_context }}"

# decrypted_data
skip_decrypted_data_create_required_original_test: True
skip_decrypted_data_create_dependency_key_test: True
skip_decrypted_data_create_required_idempotency_test: True
skip_decrypted_data_create_optional_required_idempotence_test: True
test_decrypted_data_create_optional_required_associated_data: "{{ ansible_aad }}"
test_decrypted_data_create_optional_required_logging_context: "{{ ansible_context }}"