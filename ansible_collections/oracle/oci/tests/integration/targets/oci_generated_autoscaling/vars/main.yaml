# variables for oci_autoscaling_setup.yaml
test_instance_configuration_name: "ansible-test-autoscaling-instance-configuration-{{random_suffix_1024}}"
test_instance_name: "ansible-test-instance-autoscaling-{{random_suffix_1024}}"
test_instance_pool_name: "ansible-test-autoscaling-instance-pool-{{random_suffix_1024}}"
test_auto_scaling_configuration_display_name: "ansible-test-autoscaling-configuration-{{random_suffix_1024}}"
test_auto_scaling_configuration_display_name_updated: "ansible-test-autoscaling-configuration-updated-{{random_suffix_1024}}"
test_auto_scaling_configuration_policy_display_name: "ansible-test-autoscaling-configuration-{{random_suffix_1024}}"

# variables for oci_autoscaling_auto_sclaing_configuration_tests.yaml
test_auto_scaling_configuration_create_required_policies:
  - capacity:
      max: 2
      min: 1
      initial: 1
    policy_type: threshold
    display_name: "{{ test_auto_scaling_configuration_policy_display_name }}"
    rules:
      - action:
          type: CHANGE_COUNT_BY
          value: 1
        metric:
          metric_type: CPU_UTILIZATION
          threshold:
            operator: GT
            value: 80
      - action:
          type: CHANGE_COUNT_BY
          value: -1
        metric:
          metric_type: CPU_UTILIZATION
          threshold:
            operator: LT
            value: 10
test_auto_scaling_configuration_create_optional_required_policies:
  - capacity:
      max: 3
      min: 1
      initial: 1
    policy_type: threshold
    rules:
      - action:
          type: CHANGE_COUNT_BY
          value: 2
        metric:
          metric_type: CPU_UTILIZATION
          threshold:
            operator: GT
            value: 90
      - action:
          type: CHANGE_COUNT_BY
          value: -2
        metric:
          metric_type: CPU_UTILIZATION
          threshold:
            operator: LT
            value: 20

# variables for oci_autoscaling_auto_sclaing_configuration_policy_tests.yaml
test_auto_scaling_configuration_policy_create_dependency_auto_scaling_configuration_policies: "{{ test_auto_scaling_configuration_create_required_policies }}"
test_auto_scaling_configuration_policy_update_using_name_optional_required_display_name: "{{ test_auto_scaling_configuration_policy_display_name }}"
test_auto_scaling_configuration_policy_update_using_name_optional_required_capacity_max: 3
test_auto_scaling_configuration_policy_update_using_name_optional_required_capacity_min: 1
test_auto_scaling_configuration_policy_update_using_name_optional_required_capacity_initial: 1
test_auto_scaling_configuration_policy_update_optional_required_action_value: 1
test_auto_scaling_configuration_policy_update_using_name_optional_required_rules:
  - action:
      type: CHANGE_COUNT_BY
      value: 2
    metric:
      metric_type: CPU_UTILIZATION
      threshold:
        operator: GT
        value: 80
  - action:
      type: CHANGE_COUNT_BY
      value: -2
    metric:
      metric_type: CPU_UTILIZATION
      threshold:
        operator: LT
        value: 10
auto_scaling_configuration_policy_resource_id: "{{ dependency_auto_scaling_configuration.policies[0].id }}"
test_auto_scaling_configuration_policy_update_optional_required_capacity_max: 4
test_auto_scaling_configuration_policy_update_optional_required_capacity_min: 1
test_auto_scaling_configuration_policy_update_optional_required_capacity_initial: 1
test_auto_scaling_configuration_policy_update_optional_required_rules:
  - action:
      type: CHANGE_COUNT_BY
      value: 1
    metric:
      metric_type: CPU_UTILIZATION
      threshold:
        operator: GT
        value: 95
  - action:
      type: CHANGE_COUNT_BY
      value: -1
    metric:
      metric_type: CPU_UTILIZATION
      threshold:
        operator: LT
        value: 5
